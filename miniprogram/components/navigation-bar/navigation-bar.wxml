<view class="weui-navigation-bar {{extClass}}">
  <view class="weui-navigation-bar__inner {{ios ? 'ios' : 'android'}}" style="color: {{color}}; background: {{background}}; {{displayStyle}}; {{innerPaddingRight}}; {{safeAreaTop}};">
    <!-- 左侧按钮区域 -->
    <view class="weui-navigation-bar__left">
      <block wx:if="{{back || homeButton}}">
        <block wx:if="{{back}}">
          <view bindtap="back" class="weui-navigation-bar__btn_goback_wrapper" hover-stay-time="100" aria-label="返回">
            <view class="weui-navigation-bar__btn_goback"></view>
          </view>
        </block>
        <block wx:if="{{homeButton}}">
          <view bindtap="home" class="weui-navigation-bar__btn_home_wrapper" aria-label="首页">
            <view class="weui-navigation-bar__btn_home"></view>
          </view>
        </block>
      </block>
      <block wx:else>
        <slot name="left"></slot>
      </block>
    </view>
    
    <!-- 中间内容区域：标题或Tab导航 -->
    <view class="weui-navigation-bar__center">
      <block wx:if="{{tabs && tabs.length > 0}}">
        <scroll-view class="weui-navigation-bar__tabs" scroll-x scroll-into-view="tab-{{activeTab}}" scroll-with-animation>
          <view class="weui-navigation-bar__tabs-content">
            <block wx:for="{{tabs}}" wx:key="key">
              <view 
                id="tab-{{item.key}}"
                class="weui-navigation-bar__tab {{item.key === activeTab ? 'active' : ''}}" 
                bindtap="onTabChange" 
                data-key="{{item.key}}"
              >
                <text class="weui-navigation-bar__tab-text">{{item.label}}</text>
                <view wx:if="{{item.key === activeTab}}" class="weui-navigation-bar__tab-indicator"></view>
              </view>
            </block>
          </view>
        </scroll-view>
      </block>
      <block wx:else>
        <view wx:if="{{loading}}" class="weui-navigation-bar__loading" aria-role="alert">
          <view class="weui-loading" aria-role="img" aria-label="加载中"></view>
        </view>
        <block wx:if="{{title}}">
          <text>{{title}}</text>
        </block>
        <block wx:else>
          <slot name="center"></slot>
        </block>
      </block>
    </view>
    
    <!-- 右侧留空区域 -->
    <view class="weui-navigation-bar__right">
      <slot name="right"></slot>
    </view>
  </view>
</view>